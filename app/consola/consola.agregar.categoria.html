<?php
/**
 * @author Hector Menendez <h@cun.mx>
 * @licence http://etor.mx/licence.txt
 * @updated 2011/SEP/17 20:49 Added Edit mode.
 * @created 2011/SEP/04 00:22
 */
 include APP_PATH.APP_NAME.'.html'; # common.
 $edit = isset($category);
 ?>
<section class="mainsect">

<?php foreach($languages as $lang => $language):?>
	<fieldset class="ui-inset divide">
		<legend><?=$language?></legend>
		<div>
			<label
				for        = "<?=$lang?>_name"
				class      = "ui-label"
				data-limit = "[a-zA-Z]|[^\x00-\x80]"
				data-count = "22"
				title      =
				"<b>Nombre de la Categoría</b>
				Una sola palabra formada solo por letras sin espacios  que -
				representa un grupo de productos."
				>Nombre</label>
			<input class="ui-input" id="<?=$lang?>_name" type="text" <?=$edit?'value="'.$category[$lang]['name'].'"':''?>>
		</div>
		<div>
			<label
				class      = "ui-label"
				for        = "<?=$lang?>_desc"
				data-count = "300"
				title      =
				"<b>Descripción de la  Categoría para Buscadores</b>.
				Aparecerá en los resultados de búsqueda, es importante darle   -
				énfasis a las palabras que desea tengan prioridad.<br>
				Una descripción muy corta puede afectar su posicionamiento; -
				300 caracteres es lo máximo permitido por Google."
				>Descripción</label>
			<textarea class="desc ui-textarea" id="<?=$lang?>_desc"><?=$edit?$category[$lang]['desc']:''?></textarea>
		</div>
		<div>
			<label
				class      = "ui-label"
				for        = "<?=$lang?>_keyw"
				data-count = "300"
				title      =
				"<b>Palabras Clave</b><br>
				A pesar de que el título dice 'palabras', el término correcto  -
				debería ser 'frases clave'.<br>
				Es una lista separada por comas de las frases con las que desea -
				encuentren la categoría.<br>
				Es importante que las palabras esten directamente relacionadas -
				con el contenido, descripición y nombre de la categoría."
				>Keywords</label>
			<textarea class="keyw ui-textarea" id="<?=$lang?>_keyw"><?=$edit?$category[$lang]['keyw']:''?></textarea>
		</div>

	</fieldset>
<?php endforeach ?>
<?php if (!$edit):?>
	<fieldset class="ui-inset small">
		<label
			for        = "class"
			class      = "ui-label"
			data-limit = "[a-z]"
			data-count = "22"
			title      =
			"<b>Identificador de las Categorías</b>
			Nombre que las categorías compartirán en la base de datos, -
			solo minúsculas sin espacios o caracteres especiales.<br>
			<i>Si el campo aparece en tono rojo, significa que otra categoría -
			con ese nombre ya existe en la base de datos.</i>"
		>Identificador</label>
		<input id="class" class="ui-input" type="text" <?=$edit?'value="'.$category[$lang]['class'].'"':''?>>
	</fieldset>
<?php else: ?>
	<input type="hidden" id="class" value="<?=$category[$lang]['class']?>"/>
<?php endif ?>
	<div class="submit"><button class="ui-button" type="submit"><?=$edit?'Editar':'Agregar'?></button></div>

</section>

<?php
# TODO: THIS SHOULD BE ADDED FROM THE MAIN TEMPLATE
#       in other words: consola.html should output buffer
#       all calls to its childs, so it can "wrap" them.
?>
</div>
