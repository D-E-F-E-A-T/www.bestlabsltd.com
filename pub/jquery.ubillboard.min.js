(function(c){c.fn.uBillboard=function(a){function q(d,b){var e=d*b;for(i=0;i<e;i++)o(i,f,a.speed,Math.round(Math.random()*a.speed))}function r(d,b){var e=d*b;for(i=0;i<e;i++)o(i,f,a.speed,i*70)}function s(d,b){var e=0;for(i=0;i<b;i++)for(j=0;j<d;j++){o(j*b+i,f,a.speed,e*70);e++}}function t(d,b,e){switch(d){case 1:q(b,e);break;case 2:r(b,e);break;case 3:s(b,e)}}a=c.extend({speed:600,delay:3E3,width:"940px",height:"376px",effect:"cycle",square_resolution:94,description_opacity:0.6,loader_image:"images/loading.gif"},
a);var f,k,B=[],g=[],h=0,l=1,m=1,p,u=0,v=Math.ceil(parseInt(a.width)/a.square_resolution),w=Math.ceil(parseInt(a.height)/a.square_resolution),o=function(d,b,e,n){setTimeout(function(){jQuery(".square"+d,b).stop().animate({opacity:1},e)},n)},C=function(d,b){f.css({"background-image":"url("+g[h].src+")","background-position":"0px 0px"});c("div",f).css({"background-image":"url("+g[l].src+")",opacity:"0"});switch(a.effect){case "async":q(d,b);break;case "horizontal":r(d,b);break;case "vertical":s(d,b);
break;case "random":t(Math.round(Math.random()*2+1),d,b);break;default:t(m,d,b)}if(m==3)m=1;else m++;if(g.length-1==h)h=0;else h++;if(g.length-1==l)l=0;else l++;c(f).unbind("click").click(function(){window.location=g[h].url});c(k).animate({top:a.height},{duration:300,complete:function(){if(g[h].alt!=""){c(this).text(g[h].alt);c(k).animate({top:parseInt(a.height)-43+"px"},{duration:300})}}})};return this.each(function(){f=c(this);p=c("img",f).length;if(!(p<2)){f.css({"background-image":"url("+a.loader_image+
")","background-position":"center center","background-repeat":"no-repeat",width:a.width,height:a.height,overflow:"hidden",margin:"auto",position:"relative",cursor:"pointer"});c("img",f).each(function(e,n){var z="#";if(c(n).parent().is("a"))z=c(n).parent().attr("href");var A=c(this).attr("src");g.push({src:A,el:this,url:z,alt:c(this).attr("alt")});c(this).detach();c("<img>").load(function(){++u;p==u&&setInterval(function(){C(w,v)},a.delay+a.speed)}).attr("src",A)});k=c('<span class="description">'+
g[0].alt+"</span>");k.css({display:"block",opacity:a.description_opacity,position:"absolute",zIndex:1E3,height:"17px",width:parseInt(a.width)-20+"px",color:"white",textAlign:"center",padding:"13px 20px",background:"black",top:a.height});f.append(k);var d=0;for(y=0;y<w;y++)for(x=0;x<v;x++){var b=document.createElement("div");b.style.backgroundPosition=-x*a.square_resolution+"px "+-y*a.square_resolution+"px";b.style.left=x*a.square_resolution+"px";b.style.top=y*a.square_resolution+"px";c(b).addClass("square"+
d);f.append(b);B.push(b.id);d++}c("div",f).css({"background-repeat":"no-repeat",opacity:"0",width:a.square_resolution+"px",height:a.square_resolution+"px",position:"absolute","z-index":1});if(g[0].alt!=""){c(this).text();c(k).animate({top:parseInt(a.height)-43+"px"},{duration:300})}}})}})(jQuery);